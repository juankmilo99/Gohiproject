<div class="container-fluid pt-4 px-4">
  <nav aria-label="breadcrumb">
    <ol class="breadcrumb">
      <li class="breadcrumb-item">
        <a routerLink="/dash/home"> <i class="fa fa-home me-2"></i>
          Inicio
        </a>
      </li>
      <li class="breadcrumb-item active" aria-current="page">Encuestas</li>
    </ol>
  </nav>
  <div class="d-flex justify-content-between ps-2 pe-2">
    <h4 class="mb-3 text-center text-primary">Encuestas GOHI</h4>
    <a routerLink="/dash/surveys/create" class="btn btn-primary mb-2 text-end">Crear nueva versión</a>
  </div>
  <div class="row g-4">
    <div class="col-12">
      <div class="bg-light rounded h-100 p-4">

        <div class="table-responsive">
          <table class="table">
            <thead>
              <tr>
                <th scope="col">Versión</th>
                <th scope="col">Nombre</th>
                <th scope="col">Estado</th>
                <th scope="col">Acciones</th>
              </tr>
            </thead>
            <tbody>
              <tr *ngFor="let encu of encuestasArr ; let indice=index;">
                <td>{{indice+1}}</td>
                <td>{{encu.nombre}}</td>
                <td *ngIf="encu.activo==true; else botonInactivo"><span class="badge bg-primary">Activa</span></td>
                <td>
                  <a class="text-primary me-2 cursor-pointer"(click)="abrirEncuestaPregunta(encu.codigo)"><i class="fa fa-eye"></i></a>
                  <a class="text-info me-2 cursor-pointer"  (click)="abrirModal(ventanaCambiarEstado,encu)" ><i class="fa fa-edit"></i></a>
                  <a class="text-danger me-2 cursor-pointer"><i class="fa fa-trash"></i></a>
                </td>
              </tr>

            </tbody>
          </table>
        </div>
      </div>
    </div>
  </div>
  <ng-template #botonInactivo >
    <td><span class="badge bg-secondary">Inactiva</span></td>
  </ng-template>
  <ng-template #ventanaCambiarEstado>
    <div class="modal-header bg-dark text-white" style="padding: 4px">
      <h5 class="modal-title">
        {{ modalTitulo }}
      </h5>
      <button type="button" class="btn btn-sm text-white" (click)="modalRef.hide()">
        <span>&times;</span>
      </button>
    </div>
    <div class="modal-body">
      <p>
        {{ modalCuerpo }} <br />
        <strong>{{ modalContenido }}</strong>
      </p>
    </div>
    <div class="modal-footer" style="padding: 4px">
      <button type="button" class="btn btn-danger btn-sm" (click)="btnActualizarEstadoEncuesta()">
        actualizar
      </button>
      <button type="button" class="btn btn-outline-danger btn-sm" (click)="btnCancelar()">
        Cancelar
      </button>
    </div>
  </ng-template>
</div>
